(function(t){function e(e){for(var o,a,i=e[0],c=e[1],u=e[2],m=0,p=[];m<i.length;m++)a=i[m],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},s={app:0},r=[];function a(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"9fff6de0"}[t]+".js"}function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=s[t]=[e,o]}));e.push(n[2]=o);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=a(t);var u=new Error;r=function(e){c.onerror=c.onload=null,clearTimeout(m);var n=s[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",u.name="ChunkLoadError",u.type=o,u.request=r,n[1](u)}s[t]=void 0}};var m=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var m=0;m<c.length;m++)e(c[m]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"4e0c":function(t,e,n){t.exports=n.p+"img/default_user.c33f30fc.png"},"4f6a":function(t,e,n){"use strict";var o=n("bc23"),s=n.n(o);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"l-container"},[n("router-view")],1)])},r=[],a=(n("5c0b"),n("2877")),i={},c=Object(a["a"])(i,s,r,!1,null,null,null),u=c.exports,m=(n("d3b7"),n("8c4f")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"l-container__inner"},[n("ChatBoard")],1),n("Form")],1)},p=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Chit Chat")]),n("main",t._l(t.posts,(function(e,o){return n("article",{key:o,staticClass:"l-list"},[t._m(0,!0),n("div",{staticClass:"content__main"},[n("p",{staticClass:"user__name"},[t._v(t._s(e.fields.name.stringValue))]),n("div",{staticClass:"content__inner balloon"},[n("p",{staticClass:"content__comment"},[t._v(t._s(e.fields.comment.stringValue))]),n("time",{staticClass:"content__time"},[t._v(t._s(new Date(e.createTime).toLocaleDateString()))])])])])})),0)])},d=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"content__sub"},[o("span",{staticClass:"user__avatar"},[o("img",{attrs:{src:n("4e0c"),alt:"",width:"150",height:"150"}})])])}],h={name:"ChatBoard",data:function(){return{}},computed:{posts:function(){return this.$store.state.posts}},created:function(){this.$store.dispatch("getPosts")},methods:{}},v=h,_=(n("4f6a"),Object(a["a"])(v,f,d,!1,null,"da7faba2",null)),b=_.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"btn btn__add",on:{click:function(e){t.showCommentForm=!t.showCommentForm}}},[n("span")]),n("transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showCommentForm,expression:"showCommentForm"}]},[n("div",{staticClass:"drawer__overlay",on:{click:function(e){e.stopPropagation(),t.showCommentForm=!t.showCommentForm}}}),n("div",{staticClass:"drawer__base"},[n("div",{staticClass:"drawer__baseInner"},[n("p",[t._v("新しいコメント")]),1==t.errorMessage.emptyName?n("div",[n("p",[t._v("ニックネームを入力してください")])]):t._e(),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPost.name,expression:"newPost.name"}],staticClass:"form form__input",attrs:{type:"text",placeholder:"ニックネーム"},domProps:{value:t.newPost.name},on:{input:function(e){e.target.composing||t.$set(t.newPost,"name",e.target.value)}}})]),1==t.errorMessage.emptyComment?n("div",[n("p",[t._v("コメントを入力してください")])]):t._e(),n("p",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newPost.comment,expression:"newPost.comment"}],staticClass:"form form__inputComment",attrs:{type:"text",rows:"10",cols:"5",placeholder:"コメント"},domProps:{value:t.newPost.comment},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addComment()},input:function(e){e.target.composing||t.$set(t.newPost,"comment",e.target.value)}}})]),n("button",{staticClass:"btn btn__send",on:{click:function(e){return t.addComment()}}},[t._v(" 投稿"),n("span",[t._v("（Press Enter）")])])])])])])],1)},w=[],y=(n("b0c0"),n("b64b"),n("bc3a")),C=n.n(y),P={name:"Form",data:function(){return{showCommentForm:!1,errorMessage:{emptyName:!1,emptyComment:!1},newPost:{name:"",comment:""}}},methods:{addComment:function(){var t=this;0===Object.keys(this.newPost.comment).length||0===Object.keys(this.newPost.name).length?(0===Object.keys(this.newPost.name).length&&(this.errorMessage.emptyName=!0,console.log("error")),0===Object.keys(this.newPost.comment).length&&(this.errorMessage.emptyComment=!0)):(C.a.post("/comments",{fields:{name:{stringValue:this.newPost.name},comment:{stringValue:this.newPost.comment}}}).then((function(e){console.log(e),t.$store.dispatch("getPosts")})).catch((function(t){console.log(t)})),this.newPost.comment="",this.newPost.name="",this.showCommentForm=!1,this.errorMessage.emptyName=!1,this.errorMessage.emptyComment=!1)}}},j=P,O=(n("6f19"),Object(a["a"])(j,g,w,!1,null,"8deb770e",null)),k=O.exports,x={name:"Home",components:{ChatBoard:b,Form:k}},F=x,M=Object(a["a"])(F,l,p,!1,null,null,null),$=M.exports;o["a"].use(m["a"]);var E=[{path:"/",name:"Home",component:$},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],N=new m["a"]({routes:E}),S=N,T=n("2f62");o["a"].use(T["a"]);var L=new T["a"].Store({state:{posts:null},getters:{posts:function(t){return t.posts}},mutations:{updatePosts:function(t,e){t.posts=e}},actions:{getPosts:function(t){var e=t.commit;C.a.get("/comments").then((function(t){0!=Object.keys(t.data).length&&(console.log("a",t.data.documents),e("updatePosts",t.data.documents))}))}},modules:{}}),V=n("0ff2");o["a"].use(V["a"]);var A=n("59ca"),B=n.n(A),D=(n("e71f"),B.a.initializeApp({projectId:"vue-chat-82fcf"}).firestore(),B.a.firestore);D.Timestamp,D.GeoPoint;o["a"].config.productionTip=!1,C.a.defaults.baseURL="https://firestore.googleapis.com/v1/projects/vue-chat-82fcf/databases/(default)/documents",new o["a"]({router:S,store:L,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var o=n("9c0c"),s=n.n(o);s.a},"6f19":function(t,e,n){"use strict";var o=n("c6a1"),s=n.n(o);s.a},"9c0c":function(t,e,n){},bc23:function(t,e,n){},c6a1:function(t,e,n){}});
//# sourceMappingURL=app.a440ea0e.js.map